<button onclick="calculate()">Calcular VAM y Zonas</button>

<script>
function paceFromSpeed(speed){
    if(!speed) return "–";
    let paceMin = 60 / speed;
    let min = Math.floor(paceMin);
    let sec = Math.round((paceMin - min) * 60);
    if(sec < 10) sec = "0"+sec;
    return min+":"+sec+" /km";
}

// Riegel formula
function predictedSpeed(D_ref, T_ref_min, D_target){
    if(!D_ref || !T_ref_min) return null;
    let T_target = T_ref_min * Math.pow(D_target/D_ref, 1.06);
    return D_target / (T_target / 60); // km/h
}

function calculateVAM(){
    let inputs = [
        {d:1, min:document.getElementById("min1k").value, sec:document.getElementById("sec1k").value},
        {d:3, min:document.getElementById("min3k").value, sec:document.getElementById("sec3k").value},
        {d:5, min:document.getElementById("min5k").value, sec:document.getElementById("sec5k").value},
        {d:10, min:document.getElementById("min10k").value, sec:document.getElementById("sec10k").value}
    ];

    let speeds = [];

    inputs.forEach(inp=>{
        let min = parseFloat(inp.min);
        let sec = parseFloat(inp.sec);
        if(!isNaN(min) && !isNaN(sec)){
            let totalMin = min + sec/60;
            speeds.push({d:inp.d, min:totalMin, speed:inp.d/(totalMin/60)});
        }
    });

    if(speeds.length === 0){
        alert("Introduce al menos un tiempo válido");
        return null;
    }

    let vam_estimates = [];
    for(let i=0;i<speeds.length;i++){
        for(let j=0;j<speeds.lengt
